// Based on http://stereopsis.com/radix.html
// Requires typed arrays.
(function(e){function s(){function e(e,r){var s,E,S,x,T=!1;e instanceof Float32Array?(s=c,E=h,S=p,x=b,T=!0):e instanceof Float64Array?(s=d,E=v,S=m,x=w,T=!0):e instanceof Uint32Array||e instanceof Uint16Array||e instanceof Uint8Array?(s=f,E=S=l,x=y):(s=o,E=u,S=a,x=g);var N=T?new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2):e,C=N.length,k=Math.ceil(e.BYTES_PER_ELEMENT*8/t),L=n*(k-1),A=1<<(e.BYTES_PER_ELEMENT*8-1)%t,O=(A<<1)-1,M;r=r?T?new Int32Array(r.buffer,r.byteOffset,r.byteLength>>2):r:new N.constructor(N.length);for(var _=0,C=n*k;_<C;_++)i[_]=0;x(N,L,O);for(var D=0;D<=L;D+=n)for(var P=D,H=0;P<D+n;P++){var B=i[P]+H;i[P]=H-1,H=B}var j=0;k--;if(k){s(N,r),M=r,r=N,N=M;while(++j<k)E(N,r,j),M=r,r=N,N=M}return S(N,r,j,A),new e.constructor(r.buffer,r.byteOffset,e.length)}return e.radix=function(o){return arguments.length?(n=1<<(t=+o),r=n-1,i=s._histograms=new Int32Array(n*Math.ceil(64/t)),e):t},e.radix(11)}function o(e,t){for(var n=0,s=e.length;n<s;n++){var o=e[n];t[++i[o&r]]=o}}function u(e,s,o){for(var u=0,a=e.length,f=o*n,l=o*t;u<a;u++){var c=e[u];s[++i[f+(c>>>l&r)]]=c}}function a(e,r,s,o){var u=(o<<1)-1;for(var a=0,f=e.length,l=s*n,c=s*t;a<f;a++){var h=e[a];r[++i[l+(h>>>c&u^o)]]=h}}function f(e,t){for(var n=0,s=e.length;n<s;n++){var o=e[n];t[++i[o&r]]=o}}function l(e,s,o){for(var u=0,a=e.length,f=o*n,l=o*t;u<a;u++){var c=e[u],h=c>>>l&r;s[++i[f+h]]=c}}function c(e,t){for(var n=0,s=e.length;n<s;n++){var o=e[n];o^=o>>31|2147483648,t[++i[o&r]]=o}}function h(e,s,o){for(var u=0,a=e.length,f=o*n,l=o*t;u<a;u++){var c=e[u];s[++i[f+(c>>>l&r)]]=c}}function p(e,r,s,o){var u=(o<<1)-1;for(var a=0,f=e.length,l=s*n,c=s*t;a<f;a++){var h=e[a],p=h>>>c&u;r[++i[l+p]]=h^(~h>>31|2147483648)}}function d(e,t){for(var n=0,s=e.length;n<s;n++){var o=e[n],u=e[++n],a=u>>31;u^=a|2147483648,o^=a,a=++i[o&r]<<1,t[a++]=o,t[a]=u}}function v(e,s,o){var u=o*t,a=r,f=0,l=32-u,c=u<32&&u>32-t?(a=-1>>>u&r,f=0,-1<<l&r):u>=32?(u-=32,l+=32,a=0,f=r,0):0;for(var h=0,p=e.length,d=o*n,u=o*t;h<p;h++){var v=e[h],m=e[++h],g=++i[d+(v>>>u&a|m>>>u&f|m<<l&c)]<<1;s[g++]=v,s[g]=m}}function m(e,r,s,o){var u=(o<<1)-1;for(var a=0,f=e.length,l=s*n,c=s*t-32;a<f;a++){var h=e[a],p=e[++a],d=p>>>c&u,v=~p>>31;d=++i[l+d]<<1,r[d++]=h^v,r[d]=p^(v|2147483648)}}function g(e,s,o){var u=o+1>>>1;for(var a=0,f=e.length;a<f;a++){var l=e[a];for(var c=0,h=0;c<s;c+=n,h+=t)i[c+(l>>>h&r)]++;i[c+(l>>>h&o^u)]++}}function y(e,s){for(var o=0,u=e.length;o<u;o++){var a=e[o];for(var f=0,l=0;f<=s;f+=n,l+=t)i[f+(a>>>l&r)]++}}function b(e,s,o){for(var u=0,a=e.length;u<a;u++){var f=e[u];f^=f>>31|2147483648;for(var l=0,c=0;l<s;l+=n,c+=t)i[l+(f>>>c&r)]++;i[l+(f>>>c&o)]++}}function w(e,s,o){for(var u=0,a=e.length;u<a;u++){var f=e[u],l=e[++u],c=l>>31;l^=c|2147483648,f^=c;for(var h=0,p=0;p<=32-t;h+=n,p+=t)i[h+(f>>>p&r)]++;i[h+((l<<32-p|f>>>p)&r)]++;for(p+=t-32,h+=n;h<s;h+=n,p+=t)i[h+(l>>>p&r)]++;i[h+(l>>>p&o)]++}}e.radixsort=s;var t,n,r,i})(this);